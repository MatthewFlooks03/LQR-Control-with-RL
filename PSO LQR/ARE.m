clear
clc

g = 9.81;
m = 1;
Ix = 0.11;
Iy = 0.11;
Iz = 0.04;


A = [
    0 0 0 1 0 0 0 0 0 0 0 0;
    0 0 0 0 1 0 0 0 0 0 0 0;
    0 0 0 0 0 1 0 0 0 0 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0;
    0 -g 0 0 0 0 0 0 0 0 0 0;
    g 0 0 0 0 0 0 0 0 0 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0;
    0 0 0 0 0 0 1 0 0 0 0 0;
    0 0 0 0 0 0 0 1 0 0 0 0;
    0 0 0 0 0 0 0 0 1 0 0 0;
    ];

mc = -1/m;
Ixc = 1/Ix;
Iyc = 1/Iy;
Izc = 1/Iz;

B = [
          0,    0,    0,    0;
          0,    0,    0,    0;
          0,    0,    0,    0;
          0,  Ixc,    0,    0;
          0,    0,  Iyc,    0;
          0,    0,    0,  Izc;
          0,    0,    0,    0;
          0,    0,    0,    0;
          -1/m,    0,    0,    0;
          0,    0,    0,    0; 
          0,    0,    0,    0;
          0,    0,    0,    0;
];

co = ctrb(A,B);
nuco = length(A) - rank(co);

Q = diag(ones(12,1));
R = diag(ones(4,1));

K = lqr(A,B,Q,R)